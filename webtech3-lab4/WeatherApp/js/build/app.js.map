{"version":3,"sources":["../src/app.js"],"names":[],"mappings":";;;;;;IAAM,O;AACF,qBAAY,OAAZ,EAAoB;AAAA;;AAChB,aAAK,OAAL,GAAe,OAAf;AACA,aAAK,UAAL;AACH;;;;qCAEW;AACV;AACC,iBAAK,aAAL;AACF;;;wCACc;AAAA;;AACX;AACA,sBAAU,WAAV,CAAsB,kBAAtB,CAAyC,oBAAW;AAChD;AACA,oBAAI,MAAM,SAAS,MAAT,CAAgB,QAA1B;AACA,oBAAI,MAAM,SAAS,MAAT,CAAgB,SAA1B;AACA,sBAAK,UAAL,CAAgB,GAAhB,EAAqB,GAArB;AACH,aALD,EAKG,eAAM;AACL;AACA,wBAAQ,GAAR,CAAY,GAAZ;AACH,aARD;AASH;;;mCACU,G,EAAK,G,EAAI;AAChB;AACA,gBAAI,gFAA8E,KAAK,OAAnF,SAA8F,GAA9F,SAAqG,GAArG,cAAJ;AACA,kBAAM,GAAN,EACC,IADD,CACM,oBAAW;AACb,uBAAO,SAAS,IAAT,EAAP;AACH,aAHD,EAIC,IAJD,CAIM,gBAAO;AACT,wBAAQ,GAAR,CAAY,IAAZ;AACA,oBAAI,OAAO,SAAS,aAAT,CAAuB,IAAvB,CAAX;AACA,oBAAI,OAAO,KAAK,SAAL,CAAe,OAA1B;AACA,qBAAK,SAAL,GAAiB,IAAjB;AACA,oBAAI,UAAU,IAAI,OAAJ,CAAY,mCAAZ,CAAd;AACA,wBAAQ,MAAR,CAAe,IAAf;AACA;AACA,yBAAS,aAAT,CAAuB,MAAvB,EAA+B,WAA/B,CAA2C,IAA3C;AACH,aAbD;AAcH;;;;;;IAEC,O;AACF,qBAAY,OAAZ,EAAoB;AAAA;;AAChB,aAAK,UAAL;AACA,aAAK,OAAL,GAAe,OAAf;AACH;;;;qCACW;AACR;AACH;;;+BACM,I,EAAK;AACR,gBAAI,4EAA0E,KAAK,OAA/E,WAA4F,IAA5F,qEAAJ;AACA,kBAAM,GAAN,EACC,IADD,CACM,oBAAW;AACb,uBAAO,SAAS,IAAT,EAAP;AACH,aAHD,EAIC,IAJD,CAIM,gBAAM;AACR;AACA,oBAAI,MAAM,KAAK,KAAL,CAAW,KAAK,MAAL,KAAc,EAAzB,CAAV;AACA,oBAAI,QAAQ,KAAK,IAAL,CAAU,GAAV,EAAe,aAA3B;AACA,wBAAQ,GAAR,CAAY,KAAZ;AACA,yBAAS,IAAT,CAAc,KAAd,CAAoB,eAApB,cAA8C,KAA9C;AACA,yBAAS,IAAT,CAAc,KAAd,CAAoB,kBAApB,GAAyC,eAAzC;AACA,yBAAS,IAAT,CAAc,KAAd,CAAoB,gBAApB,GAAuC,WAAvC;AACH,aAZD;AAaH;;;;;;AAEL,IAAI,MAAM,IAAI,OAAJ,CAAY,kCAAZ,CAAV;AACA","file":"app.js","sourcesContent":["class Weather{\r\n    constructor(API_KEY){\r\n        this.API_KEY = API_KEY;\r\n        this.initialize();\r\n    }\r\n\r\n    initialize(){\r\n      // console.log(navigator); \r\n       this.getMyLocation();\r\n    }\r\n    getMyLocation(){\r\n        //console.log('getting location');\r\n        navigator.geolocation.getCurrentPosition(position =>{\r\n            // it's working\r\n            let lat = position.coords.latitude;\r\n            let lng = position.coords.longitude;\r\n            this.getWeather(lat, lng);\r\n        }, err =>{\r\n            // it isn't working\r\n            console.log(err);\r\n        });\r\n    }\r\n    getWeather(lat, lng){\r\n        //console.log('getting weather');\r\n        let url = `https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/${this.API_KEY}/${lat},${lng}?units=si`;\r\n        fetch(url)\r\n        .then(response =>{\r\n            return response.json();\r\n        })\r\n        .then(json =>{\r\n            console.log(json);\r\n            let temp = document.createElement(\"h1\");\r\n            let text = json.currently.summary;\r\n            temp.innerHTML = text;\r\n            let picture = new Picture('2697105-3d0b707c57c84fb46088ddcb9');\r\n            picture.getBGI(text);\r\n            //console.log(text);\r\n            document.querySelector('body').appendChild(temp);\r\n        });\r\n    }\r\n}\r\nclass Picture{\r\n    constructor(API_KEY){\r\n        this.initialize();\r\n        this.API_KEY = API_KEY;\r\n    }\r\n    initialize(){\r\n        //console.log(navigator);\r\n    }\r\n    getBGI(text){\r\n        let url = `https://cors-anywhere.herokuapp.com/https://pixabay.com/api/?key=${this.API_KEY}&q=${text}+weather&image_type=photo&orientation=horizontal&category=nature`;\r\n        fetch(url)\r\n        .then(response =>{\r\n            return response.json();\r\n        })\r\n        .then(json=>{\r\n            //console.log(json);\r\n            let ran = Math.floor(Math.random()*21);\r\n            let image = json.hits[ran].largeImageURL;\r\n            console.log(image);\r\n            document.body.style.backgroundImage = `url('${image}')`;\r\n            document.body.style.backgroundPosition = \"center center\";\r\n            document.body.style.backgroundRepeat = \"no-repeat\";\r\n        })\r\n    }\r\n}\r\nlet app = new Weather('f78383124c36094464720fe3b57cd3e2');\r\n//let picture = new Picture();"]}